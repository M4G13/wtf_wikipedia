{"version":3,"file":"wtf-plugin-disambig.js","sources":["../src/index.js"],"sourcesContent":["// const birthDate = require('./birthDate')\nconst shouldSkip = /see also/\n\nconst addMethod = function (models) {\n  // parse a disambiguation page into an array of pages\n  models.Doc.prototype.disambiguation = function () {\n    if (this.isDisambiguation() !== true) {\n      return null\n    }\n    // remove 'see also'\n    let sec = this.section('see also')\n    if (sec !== null) {\n      sec.remove()\n    }\n    let pages = []\n    this.sections().forEach((s) => {\n      let title = s.title()\n      if (shouldSkip.test(title) === true) {\n        return\n      }\n      s.lists().forEach((list) => {\n        list.lines().forEach((line) => {\n          console.log(line.link().text())\n        })\n        // console.log(list)\n      })\n    })\n    return {}\n  }\n  // alias\n  models.Doc.prototype.disambig = models.Doc.prototype.disambiguation\n}\nmodule.exports = addMethod\n"],"names":["shouldSkip","addMethod","models","Doc","prototype","disambiguation","isDisambiguation","sec","section","remove","sections","forEach","s","title","test","lists","list","lines","line","console","log","link","text","disambig"],"mappings":";;;;;;;EAAA;EACA,MAAMA,UAAU,GAAG,UAAnB;;EAEA,MAAMC,SAAS,GAAG,UAAUC,MAAV,EAAkB;;EAElCA,EAAAA,MAAM,CAACC,GAAP,CAAWC,SAAX,CAAqBC,cAArB,GAAsC,YAAY;EAChD,QAAI,KAAKC,gBAAL,OAA4B,IAAhC,EAAsC;EACpC,aAAO,IAAP;EACD,KAH+C;;;EAKhD,QAAIC,GAAG,GAAG,KAAKC,OAAL,CAAa,UAAb,CAAV;;EACA,QAAID,GAAG,KAAK,IAAZ,EAAkB;EAChBA,MAAAA,GAAG,CAACE,MAAJ;EACD;EAED,SAAKC,QAAL,GAAgBC,OAAhB,CAAyBC,CAAD,IAAO;EAC7B,UAAIC,KAAK,GAAGD,CAAC,CAACC,KAAF,EAAZ;;EACA,UAAIb,UAAU,CAACc,IAAX,CAAgBD,KAAhB,MAA2B,IAA/B,EAAqC;EACnC;EACD;;EACDD,MAAAA,CAAC,CAACG,KAAF,GAAUJ,OAAV,CAAmBK,IAAD,IAAU;EAC1BA,QAAAA,IAAI,CAACC,KAAL,GAAaN,OAAb,CAAsBO,IAAD,IAAU;EAC7BC,UAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAL,GAAYC,IAAZ,EAAZ;EACD,SAFD,EAD0B;EAK3B,OALD;EAMD,KAXD;EAYA,WAAO,EAAP;EACD,GAvBD,CAFkC;;;EA2BlCpB,EAAAA,MAAM,CAACC,GAAP,CAAWC,SAAX,CAAqBmB,QAArB,GAAgCrB,MAAM,CAACC,GAAP,CAAWC,SAAX,CAAqBC,cAArD;EACD,CA5BD;;SA6Bc,GAAGJ;;;;;;;;"}