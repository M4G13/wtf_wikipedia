!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).wtfLatex=e()}(this,(function(){"use strict";const t={infoboxes:!0,sections:!0};const e={headers:!0,images:!0,tables:!0,lists:!0,paragraphs:!0};const n={sentences:!0};const a=function(t,e,n){if(!e||!t)return t;"number"==typeof t&&(t=String(t)),e=e.replace(/[\-[\]/{}()*+?.\\^$|]/g,"\\$&");let a=new RegExp("\\b"+e+"\\b");return t=!0===a.test(t)?t.replace(a,n):t.replace(e,n)},i={links:!0,formatting:!0};const s={image:!0,caption:!0,alt:!0,signature:!0,"signature alt":!0},r={images:!0};const o=function(e){e=Object.assign({},t,e);let n="";return!0===this.isRedirect()?function(t){let e=t.redirectTo(),n=e.page;return n="./"+n.replace(/ /g,"_"),e.anchor&&(n+="#"+e.anchor),"↳ \\href{"+n+"}{"+e.text+"}"}(this):(!0===e.infoboxes&&(n+=this.infoboxes().map((t=>t.latex(e))).join("\n")),!0!==e.sections&&!0!==e.paragraphs&&!0!==e.sentences||(n+=this.sections().map((t=>t.latex(e))).join("\n")),!0===e.references&&(n+=this.references().map((t=>t.latex(e))).join("\n")),n)},l=function(t){let n="",a=1;if(!0===(t=Object.assign({},e,t)).headers&&this.title()){a=1+this.depth();let t="\n",e="}";1===a?t+="\\chapter{":2===a?t+="\\section{":3===a?t+="\\subsection{":4===a?t+="\\subsubsection{":5===a?(t+="\\paragraph{",e="} \\\\ \n"):6===a?(t+="\\subparagraph{",e="} \\\\ \n"):(t+="\n% section with depth="+a+" undefined - use subparagraph instead\n\\subparagraph{",e="} \\\\ \n"),n+=t+this.title()+e,n+="\n"}return!0===t.images&&this.images()&&(n+=this.images().map((e=>e.latex(t))).join("\n")),!0===t.tables&&this.tables()&&(n+=this.tables().map((e=>e.latex(t))).join("\n")),!0===t.lists&&this.lists()&&(n+=this.lists().map((e=>e.latex(t))).join("\n")),!0!==t.paragraphs&&!0!==t.sentences||(n+=this.paragraphs().map((e=>e.latex(t))).join(" "),n+="\n"),n},c=function(t){let e="";return!0===(t=Object.assign({},n,t)).sentences&&(e+="\n\n% BEGIN Paragraph\n",e+=this.sentences().reduce(((e,n)=>e+=n.latex(t)+"\n"),""),e+="% END Paragraph"),e},h=function(t){t=Object.assign({},i,t);let e=this.text();return!0===t.links&&this.links().length>0&&this.links().forEach((t=>{let n=t.latex(),i=t.text()||t.page();e=a(e,i,n)})),!0===t.formatting&&this.data.fmt&&(this.data.fmt.bold&&this.data.fmt.bold.forEach((t=>{e=a(e,t,"\\textbf{"+t+"}")})),this.data.fmt.italic&&this.data.fmt.italic.forEach((t=>{e=a(e,t,"\\textit{"+t+"}")}))),e},p=function(){let t=this.href();return t=t.replace(/ /g,"_"),"\\href{"+t+"}{"+(this.text()||this.page())+"}"},f=function(){let t=this.alt(),e="\\begin{figure}";return e+="\n\\includegraphics[width=\\linewidth]{"+this.thumb()+"}",e+="\n\\caption{"+t+"}",e+="\n\\end{figure}",e},u=function(t){t=Object.assign({},r,t);let e="\n \\vspace*{0.3cm} % Info Box\n\n";return e+="\\begin{tabular}{|@{\\qquad}l|p{9.5cm}@{\\qquad}|} \n",e+="  \\hline  %horizontal line\n",Object.keys(this.data).forEach((n=>{if(!0===s[n])return;let a=this.data[n].latex(t);e+="  % ---------- \n",e+="      "+n+" & \n",e+="      "+a+"\\\\ \n",e+="  \\hline  %horizontal line\n"})),e+="\\end{tabular} \n",e+="\n\\vspace*{0.3cm}\n\n",e},b=function(t){let e="\\begin{itemize}\n";return this.lines().forEach((n=>{e+="  \\item "+n.text(t)+"\n"})),e+="\\end{itemize}\n",e},g=function(){return"⌃ "+this.title()+"\n"},d=function(t){let e=this.data,n="\n%\\vspace*{0.3cm}\n";n+="\n% BEGIN TABLE: only left align columns in LaTeX table with horizontal line separation between columns",n+="\n% Format Align Column: 'l'=left 'r'=right align, 'c'=center, 'p{5cm}'=block with column width 5cm ",n+="\n\\begin{tabular}{|",Object.keys(e[0]).forEach((()=>{n+="l|"})),n+="} \n",n+="\n  \\hline  %horizontal line\n",n+="\n  % BEGIN: Table Header";let a="   ";return Object.keys(e[0]).forEach((t=>{n+="\n    "+a,0===t.indexOf("col-")?n+="\\textbf{"+t+"}":n+="  ",a=" & "})),n+="\\\\ ",n+="\n  % END: Table Header",n+="\n  % BEGIN: Table Body",n+="\n  \\hline  % ----- table row -----",e.forEach((e=>{a=" ",n+="\n  % ----- table row -----",Object.keys(e).forEach((i=>{let s=e[i].latex(t);n+="\n    "+a+s,a=" & "})),n+="  \\\\ ",n+="\n  \\hline  %horizontal line"})),n+="\n    % END: Table Body",n+="\\end{tabular} \n",n+="\n\\vspace*{0.3cm}\n\n",n};return function(t){t.Doc.prototype.latex=o,t.Section.prototype.latex=l,t.Paragraph.prototype.latex=c,t.Sentence.prototype.latex=h,t.Image.prototype.latex=f,t.Link.prototype.latex=p,t.Image.prototype.latex=f,t.Infobox.prototype.latex=u,t.List.prototype.latex=b,t.Reference.prototype.latex=g,t.Table.prototype.latex=d}}));
