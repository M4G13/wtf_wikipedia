{"version":3,"file":"wtf-plugin-api.js","sources":["../src/_fns.js","../src/getRedirects.js","../src/getIncoming.js","../src/getPageViews.js","../src/getTransclusions.js","../src/getCategory.js","../src/getRandom.js","../src/getRandomCategory.js","../node_modules/slow/builds/slow.mjs","../src/fetchList.js","../src/index.js"],"sourcesContent":["exports.normalize = function (title = '') {\n  title = title.replace(/ /g, '_')\n  title = title.trim()\n  title = encodeURIComponent(title)\n  return title\n}\n\nexports.defaults = {\n  lang: 'en',\n  path: 'w/api.php'\n}\n\nexports.toUrlParams = function (obj) {\n  let arr = Object.entries(obj).map(([key, value]) => {\n    return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n  })\n  return arr.join('&')\n}\n\nexports.fetchOne = function (url, http, prop) {\n  return http(url).then((res) => {\n    let pages = Object.keys(res.query.pages || {})\n    if (pages.length === 0) {\n      return { pages: [], cursor: null }\n    }\n    return {\n      pages: res.query.pages[pages[0]][prop] || [],\n      cursor: res.continue\n    }\n  })\n}\n","const { normalize, defaults, toUrlParams, fetchOne } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  rdnamespace: 0,\n  prop: 'redirects',\n  rdlimit: 500,\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  url += `&titles=${normalize(title)}`\n  if (append) {\n    url += append\n  }\n  return url\n}\n\nconst getRedirects = async function (title, http) {\n  let list = []\n  let getMore = true\n  let append = ''\n  while (getMore) {\n    let url = makeUrl(title, defaults, append)\n    let { pages, cursor } = await fetchOne(url, http, 'redirects')\n    list = list.concat(pages)\n    if (cursor && cursor.rdcontinue) {\n      append = '&rdcontinue=' + cursor.lhcontinue\n    } else {\n      getMore = false\n    }\n  }\n  return list\n}\nmodule.exports = getRedirects\n","const { normalize, defaults, toUrlParams, fetchOne } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  lhnamespace: 0,\n  prop: 'linkshere',\n  lhshow: '!redirect',\n  lhlimit: 500,\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  url += `&titles=${normalize(title)}`\n  if (append) {\n    url += append\n  }\n  return url\n}\n\nconst getIncoming = async function (title, http) {\n  let list = []\n  let getMore = true\n  let append = ''\n  while (getMore) {\n    let url = makeUrl(title, defaults, append)\n    let { pages, cursor } = await fetchOne(url, http, 'linkshere')\n    list = list.concat(pages)\n    if (cursor && cursor.lhcontinue) {\n      append = '&lhcontinue=' + cursor.lhcontinue\n    } else {\n      getMore = false\n    }\n  }\n  return list\n}\nmodule.exports = getIncoming\n","const { normalize, defaults, toUrlParams } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  prop: 'pageviews',\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  url += `&titles=${normalize(title)}`\n  if (append) {\n    url += append\n  }\n  return url\n}\n\nconst getPageViews = function (doc, http) {\n  let url = makeUrl(doc.title(), defaults)\n  return http(url).then((res) => {\n    let pages = Object.keys(res.query.pages || {})\n    if (pages.length === 0) {\n      return []\n    }\n    return res.query.pages[pages[0]].pageviews || []\n  })\n}\nmodule.exports = getPageViews\n","const { normalize, defaults, toUrlParams, fetchOne } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  tinamespace: 0,\n  prop: 'transcludedin',\n  tilimit: 500,\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  url += `&titles=${normalize(title)}`\n  // support custom cursor params\n  if (append) {\n    url += append\n  }\n  return url\n}\n\n// fetch all the pages that use a specific template\nconst getTransclusions = async function (template, _options, http) {\n  let list = []\n  let getMore = true\n  let append = ''\n  while (getMore) {\n    let url = makeUrl(template, defaults, append)\n    let { pages, cursor } = await fetchOne(url, http, 'transcludedin')\n    list = list.concat(pages)\n    if (cursor && cursor.ticontinue) {\n      append = '&ticontinue=' + cursor.ticontinue\n    } else {\n      getMore = false\n    }\n  }\n  return list\n}\nmodule.exports = getTransclusions\n","const { normalize, defaults, toUrlParams } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  list: 'categorymembers',\n  cmlimit: 500,\n  cmtype: 'page|subcat',\n  cmnamespace: 0,\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst fetchIt = function (url, http, prop) {\n  return http(url).then((res) => {\n    let pages = Object.keys(res.query[prop] || {})\n    if (pages.length === 0) {\n      return { pages: [], cursor: null }\n    }\n    let arr = pages.map((k) => res.query[prop][k])\n    return {\n      pages: arr,\n      cursor: res.continue\n    }\n  })\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  if (/^Category/i.test(title) === false) {\n    title = 'Category:' + title\n  }\n  url += `&cmtitle=${normalize(title)}`\n  if (append) {\n    url += append\n  }\n  return url\n}\n\nconst getCategory = async function (title, options, http) {\n  let list = []\n  let getMore = true\n  let append = ''\n  while (getMore) {\n    let url = makeUrl(title, defaults, append)\n    let { pages, cursor } = await fetchIt(url, http, 'categorymembers')\n    list = list.concat(pages)\n    if (cursor && cursor.cmcontinue) {\n      append = '&cmcontinue=' + cursor.lhcontinue\n    } else {\n      getMore = false\n    }\n  }\n  return list\n}\nmodule.exports = getCategory\n","const { defaults, toUrlParams } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  generator: 'random',\n  grnnamespace: '0',\n  prop: 'pageprops',\n  grnlimit: '1',\n  rvslots: 'main',\n  format: 'json',\n  origin: '*',\n  redirects: 'true'\n}\n\nconst fetchIt = function (url, http) {\n  return http(url).then((res) => {\n    let pages = Object.keys(res.query.pages || {})\n    if (pages.length === 0) {\n      return { pages: [], cursor: null }\n    }\n    return res.query.pages[pages[0]]\n  })\n}\n\nconst makeUrl = function (options) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  return url\n}\n\nconst getRandom = async function (_options, http) {\n  let url = makeUrl(defaults)\n  let page = await fetchIt(url, http)\n  return page\n}\nmodule.exports = getRandom\n","const { defaults, toUrlParams } = require('./_fns')\n\nconst params = {\n  format: 'json',\n  action: 'query',\n  generator: 'random',\n  grnnamespace: 14,\n  prop: 'revisions',\n  grnlimit: 1,\n  origin: '*'\n}\n\nconst randomCategory = function (options = {}, http) {\n  options = Object.assign({}, defaults, options)\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  return http(url)\n    .then((res) => {\n      try {\n        let o = res.query.pages\n        let key = Object.keys(o)[0]\n        return o[key].title\n      } catch (e) {\n        throw e\n      }\n    })\n    .catch((e) => {\n      console.error(e)\n      return null\n    })\n}\nmodule.exports = randomCategory\n","/* slow 1.1.0 MIT */\n//only do foo promises at a time.\nvar rateLimit = function rateLimit(arr, fn) {\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n  return new Promise(function (resolve, reject) {\n    //some validation\n    if (!arr || !fn) {\n      reject('Error: missing required parameters to rate-limit function');\n      return;\n    }\n\n    if (arr.length === 0) {\n      resolve([]);\n      return;\n    }\n\n    var results = [];\n    var n = limit - 1;\n    var pending = 0; //simple recursion, but with then/finally\n\n    var go = function go(i) {\n      pending += 1;\n      var p = fn(arr[i]);\n\n      if (!p.then) {\n        reject('Error: function must return a promise');\n        return;\n      }\n\n      p.then(function (r) {\n        results[i] = r;\n      });\n      p[\"catch\"](function (e) {\n        console.error(e);\n        results[i] = null;\n      });\n      p[\"finally\"](function () {\n        pending -= 1;\n        n += 1; //should we keep going?\n\n        if (arr.length >= n + 1) {\n          go(n);\n        } else if (pending <= 0) {\n          //no more to start - are we the last to finish?\n          resolve(results);\n        }\n      });\n    }; //fire-off first-n items\n\n\n    var init = arr.length < limit ? arr.length : limit;\n\n    for (var i = 0; i < init; i += 1) {\n      go(i);\n    }\n  });\n};\n\nvar rateLimit_1 = rateLimit;\n\nvar methods = {\n  one: function one(arr, fn) {\n    return rateLimit_1(arr, fn, 1);\n  },\n  two: function two(arr, fn) {\n    return rateLimit_1(arr, fn, 2);\n  },\n  three: function three(arr, fn) {\n    return rateLimit_1(arr, fn, 3);\n  },\n  four: function four(arr, fn) {\n    return rateLimit_1(arr, fn, 4);\n  },\n  five: function five(arr, fn) {\n    return rateLimit_1(arr, fn, 5);\n  },\n  ten: function ten(arr, fn) {\n    return rateLimit_1(arr, fn, 10);\n  },\n  fifteen: function fifteen(arr, fn) {\n    return rateLimit_1(arr, fn, 15);\n  }\n};\nmethods.serial = methods.one;\nmethods.linear = methods.one;\nmethods.crawl = methods.three;\nmethods.walk = methods.five;\nmethods.run = methods.ten;\nmethods.sprint = methods.fifteen;\nvar src = methods;\n\nexport default src;\n","const slow = require('slow')\nconst isObject = function (obj) {\n  return obj && Object.prototype.toString.call(obj) === '[object Object]'\n}\n\nconst chunkBy = function (arr, chunkSize = 5) {\n  let groups = []\n  for (let i = 0; i < arr.length; i += chunkSize) {\n    groups.push(arr.slice(i, i + chunkSize))\n  }\n  return groups\n}\n\nconst fetchList = function (pages, options, wtf) {\n  // support a list of strings, or objects\n  if (pages[0] && isObject(pages[0])) {\n    pages = pages.map((o) => o.title)\n  }\n  // fetch in groups of 5\n  let groups = chunkBy(pages)\n\n  const doit = function (group) {\n    return wtf.fetch(group, options) //returns a promise\n  }\n  //only allow three requests at a time\n  return slow.three(groups, doit).then((res) => {\n    // flatten into one list\n    return res.reduce((arr, a) => {\n      arr = arr.concat(a)\n      return arr\n    })\n  })\n}\nmodule.exports = fetchList\n","const getRedirects = require('./getRedirects')\nconst getIncoming = require('./getIncoming')\nconst getPageViews = require('./getPageViews')\nconst getTransclusions = require('./getTransclusions')\nconst getCategory = require('./getCategory')\nconst getRandomPage = require('./getRandom')\nconst getRandomCategory = require('./getRandomCategory')\nconst fetchList = require('./fetchList')\n\nconst addMethod = function (models) {\n  // doc methods\n  models.Doc.prototype.getRedirects = function () {\n    return getRedirects(this.title(), models.http)\n  }\n  models.Doc.prototype.getIncoming = function () {\n    return getIncoming(this.title(), models.http)\n  }\n  models.Doc.prototype.getPageViews = function () {\n    return getPageViews(this, models.http)\n  }\n\n  // constructor methods\n  models.wtf.getRandomPage = function (options) {\n    return getRandomPage(options, models.http)\n  }\n  models.wtf.getRandomCategory = function (options) {\n    return getRandomCategory(options, models.http)\n  }\n  models.wtf.getTemplatePages = function (template, options) {\n    return getTransclusions(template, options, models.http)\n  }\n  models.wtf.getCategoryPages = function (category, options) {\n    return getCategory(category, options, models.http)\n  }\n  models.wtf.fetchList = function (list, options) {\n    return fetchList(list, options, models.wtf)\n  }\n  models.wtf.getIncoming = function (title) {\n    return getIncoming(title, models.http)\n  }\n  models.wtf.getRedirects = function (title) {\n    return getRedirects(title, models.http)\n  }\n}\nmodule.exports = addMethod\n"],"names":["title","replace","trim","encodeURIComponent","lang","path","obj","arr","Object","entries","map","key","value","join","url","http","prop","then","res","pages","keys","query","length","cursor","continue","normalize","defaults","toUrlParams","fetchOne","require$$0","params","action","rdnamespace","rdlimit","format","origin","redirects","makeUrl","options","append","domain","getRedirects","list","getMore","concat","rdcontinue","lhcontinue","getRedirects_1","lhnamespace","lhshow","lhlimit","getIncoming","getIncoming_1","getPageViews","doc","pageviews","getPageViews_1","tinamespace","tilimit","getTransclusions","template","_options","ticontinue","getTransclusions_1","cmlimit","cmtype","cmnamespace","fetchIt","k","test","getCategory","cmcontinue","getCategory_1","generator","grnnamespace","grnlimit","rvslots","getRandom","page","getRandom_1","randomCategory","assign","o","e","catch","console","error","getRandomCategory","rateLimit","fn","limit","arguments","undefined","Promise","resolve","reject","results","n","pending","go","i","p","r","init","rateLimit_1","methods","one","two","three","four","five","ten","fifteen","serial","linear","crawl","walk","run","sprint","src","slow","isObject","prototype","toString","call","chunkBy","chunkSize","groups","push","slice","fetchList","wtf","doit","group","fetch","reduce","a","fetchList_1","require$$1","require$$2","require$$3","require$$4","getRandomPage","require$$5","require$$6","require$$7","addMethod","models","Doc","getTemplatePages","getCategoryPages","category"],"mappings":"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"}